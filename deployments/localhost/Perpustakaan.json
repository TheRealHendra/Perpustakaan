{
  "address": "0x17f28Fb9891adCc1de69f41c36B7ce4e062aAc67",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_isbn",
          "type": "string"
        }
      ],
      "name": "cariBuku",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_admin",
          "type": "address"
        }
      ],
      "name": "hapusAdmin",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_isbn",
          "type": "string"
        }
      ],
      "name": "hapusBuku",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_admin",
          "type": "address"
        }
      ],
      "name": "tambahAdmin",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_isbn",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "_judul",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "_tahunDibuat",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "_penulis",
          "type": "string"
        }
      ],
      "name": "tambahBuku",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_isbn",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "_judul",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "_tahunDibuat",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "_penulis",
          "type": "string"
        }
      ],
      "name": "updateBook",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x5a0b2480812f4be8a982e4b1ad177d261909c5641662597b09b0dea1c4eae778",
  "receipt": {
    "to": null,
    "from": "0x3ACaa05071FE9c9881b2aFCfD8993E3bCd41E8e8",
    "contractAddress": "0x17f28Fb9891adCc1de69f41c36B7ce4e062aAc67",
    "transactionIndex": 0,
    "gasUsed": "627219",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x52b9d9f36a21a87a28f509c317c1b7f873e0dc9ed661b5056c75ae0f93aeedda",
    "transactionHash": "0x5a0b2480812f4be8a982e4b1ad177d261909c5641662597b09b0dea1c4eae778",
    "logs": [],
    "blockNumber": 1,
    "cumulativeGasUsed": "627219",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "8ebf39862cae46d5aadadd60d779fb28",
  "metadata": "{\"compiler\":{\"version\":\"0.8.13+commit.abaa5c0e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"_isbn\",\"type\":\"string\"}],\"name\":\"cariBuku\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_admin\",\"type\":\"address\"}],\"name\":\"hapusAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"_isbn\",\"type\":\"string\"}],\"name\":\"hapusBuku\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_admin\",\"type\":\"address\"}],\"name\":\"tambahAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"_isbn\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_judul\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"_tahunDibuat\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"_penulis\",\"type\":\"string\"}],\"name\":\"tambahBuku\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"_isbn\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_judul\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"_tahunDibuat\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"_penulis\",\"type\":\"string\"}],\"name\":\"updateBook\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/Library.sol\":\"Perpustakaan\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/Library.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\n\\r\\npragma solidity 0.8.13;\\r\\n\\r\\ncontract Perpustakaan {\\r\\n    struct Book {\\r\\n        string judul;\\r\\n        uint256 tahunDibuat;\\r\\n        string penulis;\\r\\n    }\\r\\n\\r\\n    // Mapping untuk ISBN ke buku\\r\\n    mapping(string => Book) private books;\\r\\n\\r\\n    // Mapping untuk admin\\r\\n    mapping(address => bool) private admins;\\r\\n\\r\\n    // Konstruktor, menambahkan alamat admin saat kontrak dibuat\\r\\n    constructor() {\\r\\n        admins[msg.sender] = true;\\r\\n    }\\r\\n\\r\\n    // Modifikasi untuk memeriksa apakah pemanggil adalah admin\\r\\n    modifier onlyAdmin() {\\r\\n        require(admins[msg.sender], \\\"Hanya admin yang dapat mengakses fungsi ini\\\");\\r\\n        _;\\r\\n    }\\r\\n\\r\\n    // Fungsi untuk menambahkan buku baru\\r\\n    function tambahBuku(string memory _isbn, string memory _judul, uint256 _tahunDibuat, string memory _penulis) public onlyAdmin {\\r\\n        // Pastikan ISBN belum ada\\r\\n        require(bytes(books[_isbn].judul).length == 0, \\\"Buku dengan ISBN ini sudah terdaftar\\\");\\r\\n\\r\\n        // Tambahkan buku baru\\r\\n        books[_isbn] = Book(_judul, _tahunDibuat, _penulis);\\r\\n    }\\r\\n\\r\\n    // Fungsi untuk memperbarui buku berdasarkan ISBN\\r\\n    function updateBook(string memory _isbn, string memory _judul, uint256 _tahunDibuat, string memory _penulis) public onlyAdmin {\\r\\n        // Pastikan buku dengan ISBN ini ada\\r\\n        require(bytes(books[_isbn].judul).length > 0, \\\"Buku dengan ISBN ini tidak terdaftar\\\");\\r\\n\\r\\n        // Perbarui buku\\r\\n        books[_isbn] = Book(_judul, _tahunDibuat, _penulis);\\r\\n    }\\r\\n\\r\\n    // Fungsi untuk menghapus buku berdasarkan ISBN\\r\\n    function hapusBuku(string memory _isbn) public onlyAdmin {\\r\\n        // Pastikan buku dengan ISBN ini ada\\r\\n        require(bytes(books[_isbn].judul).length > 0, \\\"Buku dengan ISBN ini tidak terdaftar\\\");\\r\\n\\r\\n        // Hapus buku\\r\\n        delete books[_isbn];\\r\\n    }\\r\\n\\r\\n    // Fungsi untuk mendapatkan data buku berdasarkan ISBN\\r\\n    function cariBuku(string memory _isbn) public view returns (string memory, uint256, string memory) {\\r\\n        // Pastikan buku dengan ISBN ini ada\\r\\n        require(bytes(books[_isbn].judul).length > 0, \\\"Buku dengan ISBN ini tidak terdaftar\\\");\\r\\n\\r\\n        // Ambil data buku\\r\\n        Book memory book = books[_isbn];\\r\\n        return (book.judul, book.tahunDibuat, book.penulis);\\r\\n    }\\r\\n\\r\\n    // Fungsi untuk menambahkan admin baru\\r\\n    function tambahAdmin(address _admin) public onlyAdmin {\\r\\n        admins[_admin] = true;\\r\\n    }\\r\\n\\r\\n    // Fungsi untuk menghapus admin\\r\\n    function hapusAdmin(address _admin) public onlyAdmin {\\r\\n        admins[_admin] = false;\\r\\n    }\\r\\n}\",\"keccak256\":\"0x64dfc049c39f94fca8f3cec0fb68689adfb3fd565152038afd5d7224f97796fa\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b50336000908152600160208190526040909120805460ff191690911790556109f98061003d6000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c80636631d4f01461006757806385f3219d1461007c5780638cd35f49146100a757806396de0fc7146100ba578063e9840fda146100cd578063f507a222146100e0575b600080fd5b61007a61007536600461074e565b6100f3565b005b61008f61008a3660046107e0565b610231565b60405161009e93929190610879565b60405180910390f35b61007a6100b536600461074e565b6103f5565b61007a6100c83660046107e0565b61046e565b61007a6100db3660046108ae565b61052f565b61007a6100ee3660046108ae565b61057f565b3360009081526001602052604090205460ff1661012b5760405162461bcd60e51b8152600401610122906108de565b60405180910390fd5b60008460405161013b9190610929565b908152604051908190036020019020805461015590610945565b1590506101b05760405162461bcd60e51b8152602060048201526024808201527f42756b752064656e67616e204953424e20696e69207375646168207465726461604482015263333a30b960e11b6064820152608401610122565b6040518060600160405280848152602001838152602001828152506000856040516101db9190610929565b908152602001604051809103902060008201518160000190805190602001906102059291906105d5565b5060208281015160018301556040830151805161022892600285019201906105d5565b50505050505050565b606060006060600080856040516102489190610929565b908152604051908190036020019020805461026290610945565b9050116102815760405162461bcd60e51b81526004016101229061097f565b600080856040516102929190610929565b90815260200160405180910390206040518060600160405290816000820180546102bb90610945565b80601f01602080910402602001604051908101604052809291908181526020018280546102e790610945565b80156103345780601f1061030957610100808354040283529160200191610334565b820191906000526020600020905b81548152906001019060200180831161031757829003601f168201915b505050505081526020016001820154815260200160028201805461035790610945565b80601f016020809104026020016040519081016040528092919081815260200182805461038390610945565b80156103d05780601f106103a5576101008083540402835291602001916103d0565b820191906000526020600020905b8154815290600101906020018083116103b357829003601f168201915b5050509190925250508151602083015160409093015190989297509550909350505050565b3360009081526001602052604090205460ff166104245760405162461bcd60e51b8152600401610122906108de565b600080856040516104359190610929565b908152604051908190036020019020805461044f90610945565b9050116101b05760405162461bcd60e51b81526004016101229061097f565b3360009081526001602052604090205460ff1661049d5760405162461bcd60e51b8152600401610122906108de565b600080826040516104ae9190610929565b90815260405190819003602001902080546104c890610945565b9050116104e75760405162461bcd60e51b81526004016101229061097f565b6000816040516104f79190610929565b90815260405190819003602001902060006105128282610659565b600182016000905560028201600061052a9190610659565b505050565b3360009081526001602052604090205460ff1661055e5760405162461bcd60e51b8152600401610122906108de565b6001600160a01b03166000908152600160205260409020805460ff19169055565b3360009081526001602052604090205460ff166105ae5760405162461bcd60e51b8152600401610122906108de565b6001600160a01b03166000908152600160208190526040909120805460ff19169091179055565b8280546105e190610945565b90600052602060002090601f0160209004810192826106035760008555610649565b82601f1061061c57805160ff1916838001178555610649565b82800160010185558215610649579182015b8281111561064957825182559160200191906001019061062e565b50610655929150610696565b5090565b50805461066590610945565b6000825580601f10610675575050565b601f0160209004906000526020600020908101906106939190610696565b50565b5b808211156106555760008155600101610697565b634e487b7160e01b600052604160045260246000fd5b600082601f8301126106d257600080fd5b813567ffffffffffffffff808211156106ed576106ed6106ab565b604051601f8301601f19908116603f01168101908282118183101715610715576107156106ab565b8160405283815286602085880101111561072e57600080fd5b836020870160208301376000602085830101528094505050505092915050565b6000806000806080858703121561076457600080fd5b843567ffffffffffffffff8082111561077c57600080fd5b610788888389016106c1565b9550602087013591508082111561079e57600080fd5b6107aa888389016106c1565b94506040870135935060608701359150808211156107c757600080fd5b506107d4878288016106c1565b91505092959194509250565b6000602082840312156107f257600080fd5b813567ffffffffffffffff81111561080957600080fd5b610815848285016106c1565b949350505050565b60005b83811015610838578181015183820152602001610820565b83811115610847576000848401525b50505050565b6000815180845261086581602086016020860161081d565b601f01601f19169290920160200192915050565b60608152600061088c606083018661084d565b84602084015282810360408401526108a4818561084d565b9695505050505050565b6000602082840312156108c057600080fd5b81356001600160a01b03811681146108d757600080fd5b9392505050565b6020808252602b908201527f48616e79612061646d696e2079616e67206461706174206d656e67616b73657360408201526a2066756e67736920696e6960a81b606082015260800190565b6000825161093b81846020870161081d565b9190910192915050565b600181811c9082168061095957607f821691505b60208210810361097957634e487b7160e01b600052602260045260246000fd5b50919050565b60208082526024908201527f42756b752064656e67616e204953424e20696e6920746964616b207465726461604082015263333a30b960e11b60608201526080019056fea264697066735822122004bdf2d9b5f6fa7eef08dc9bec3f477bc0fd29fd4ac401f3d3d4ddd1e875990764736f6c634300080d0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100625760003560e01c80636631d4f01461006757806385f3219d1461007c5780638cd35f49146100a757806396de0fc7146100ba578063e9840fda146100cd578063f507a222146100e0575b600080fd5b61007a61007536600461074e565b6100f3565b005b61008f61008a3660046107e0565b610231565b60405161009e93929190610879565b60405180910390f35b61007a6100b536600461074e565b6103f5565b61007a6100c83660046107e0565b61046e565b61007a6100db3660046108ae565b61052f565b61007a6100ee3660046108ae565b61057f565b3360009081526001602052604090205460ff1661012b5760405162461bcd60e51b8152600401610122906108de565b60405180910390fd5b60008460405161013b9190610929565b908152604051908190036020019020805461015590610945565b1590506101b05760405162461bcd60e51b8152602060048201526024808201527f42756b752064656e67616e204953424e20696e69207375646168207465726461604482015263333a30b960e11b6064820152608401610122565b6040518060600160405280848152602001838152602001828152506000856040516101db9190610929565b908152602001604051809103902060008201518160000190805190602001906102059291906105d5565b5060208281015160018301556040830151805161022892600285019201906105d5565b50505050505050565b606060006060600080856040516102489190610929565b908152604051908190036020019020805461026290610945565b9050116102815760405162461bcd60e51b81526004016101229061097f565b600080856040516102929190610929565b90815260200160405180910390206040518060600160405290816000820180546102bb90610945565b80601f01602080910402602001604051908101604052809291908181526020018280546102e790610945565b80156103345780601f1061030957610100808354040283529160200191610334565b820191906000526020600020905b81548152906001019060200180831161031757829003601f168201915b505050505081526020016001820154815260200160028201805461035790610945565b80601f016020809104026020016040519081016040528092919081815260200182805461038390610945565b80156103d05780601f106103a5576101008083540402835291602001916103d0565b820191906000526020600020905b8154815290600101906020018083116103b357829003601f168201915b5050509190925250508151602083015160409093015190989297509550909350505050565b3360009081526001602052604090205460ff166104245760405162461bcd60e51b8152600401610122906108de565b600080856040516104359190610929565b908152604051908190036020019020805461044f90610945565b9050116101b05760405162461bcd60e51b81526004016101229061097f565b3360009081526001602052604090205460ff1661049d5760405162461bcd60e51b8152600401610122906108de565b600080826040516104ae9190610929565b90815260405190819003602001902080546104c890610945565b9050116104e75760405162461bcd60e51b81526004016101229061097f565b6000816040516104f79190610929565b90815260405190819003602001902060006105128282610659565b600182016000905560028201600061052a9190610659565b505050565b3360009081526001602052604090205460ff1661055e5760405162461bcd60e51b8152600401610122906108de565b6001600160a01b03166000908152600160205260409020805460ff19169055565b3360009081526001602052604090205460ff166105ae5760405162461bcd60e51b8152600401610122906108de565b6001600160a01b03166000908152600160208190526040909120805460ff19169091179055565b8280546105e190610945565b90600052602060002090601f0160209004810192826106035760008555610649565b82601f1061061c57805160ff1916838001178555610649565b82800160010185558215610649579182015b8281111561064957825182559160200191906001019061062e565b50610655929150610696565b5090565b50805461066590610945565b6000825580601f10610675575050565b601f0160209004906000526020600020908101906106939190610696565b50565b5b808211156106555760008155600101610697565b634e487b7160e01b600052604160045260246000fd5b600082601f8301126106d257600080fd5b813567ffffffffffffffff808211156106ed576106ed6106ab565b604051601f8301601f19908116603f01168101908282118183101715610715576107156106ab565b8160405283815286602085880101111561072e57600080fd5b836020870160208301376000602085830101528094505050505092915050565b6000806000806080858703121561076457600080fd5b843567ffffffffffffffff8082111561077c57600080fd5b610788888389016106c1565b9550602087013591508082111561079e57600080fd5b6107aa888389016106c1565b94506040870135935060608701359150808211156107c757600080fd5b506107d4878288016106c1565b91505092959194509250565b6000602082840312156107f257600080fd5b813567ffffffffffffffff81111561080957600080fd5b610815848285016106c1565b949350505050565b60005b83811015610838578181015183820152602001610820565b83811115610847576000848401525b50505050565b6000815180845261086581602086016020860161081d565b601f01601f19169290920160200192915050565b60608152600061088c606083018661084d565b84602084015282810360408401526108a4818561084d565b9695505050505050565b6000602082840312156108c057600080fd5b81356001600160a01b03811681146108d757600080fd5b9392505050565b6020808252602b908201527f48616e79612061646d696e2079616e67206461706174206d656e67616b73657360408201526a2066756e67736920696e6960a81b606082015260800190565b6000825161093b81846020870161081d565b9190910192915050565b600181811c9082168061095957607f821691505b60208210810361097957634e487b7160e01b600052602260045260246000fd5b50919050565b60208082526024908201527f42756b752064656e67616e204953424e20696e6920746964616b207465726461604082015263333a30b960e11b60608201526080019056fea264697066735822122004bdf2d9b5f6fa7eef08dc9bec3f477bc0fd29fd4ac401f3d3d4ddd1e875990764736f6c634300080d0033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 13,
        "contract": "contracts/Library.sol:Perpustakaan",
        "label": "books",
        "offset": 0,
        "slot": "0",
        "type": "t_mapping(t_string_memory_ptr,t_struct(Book)8_storage)"
      },
      {
        "astId": 17,
        "contract": "contracts/Library.sol:Perpustakaan",
        "label": "admins",
        "offset": 0,
        "slot": "1",
        "type": "t_mapping(t_address,t_bool)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_mapping(t_address,t_bool)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_string_memory_ptr,t_struct(Book)8_storage)": {
        "encoding": "mapping",
        "key": "t_string_memory_ptr",
        "label": "mapping(string => struct Perpustakaan.Book)",
        "numberOfBytes": "32",
        "value": "t_struct(Book)8_storage"
      },
      "t_string_memory_ptr": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_string_storage": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_struct(Book)8_storage": {
        "encoding": "inplace",
        "label": "struct Perpustakaan.Book",
        "members": [
          {
            "astId": 3,
            "contract": "contracts/Library.sol:Perpustakaan",
            "label": "judul",
            "offset": 0,
            "slot": "0",
            "type": "t_string_storage"
          },
          {
            "astId": 5,
            "contract": "contracts/Library.sol:Perpustakaan",
            "label": "tahunDibuat",
            "offset": 0,
            "slot": "1",
            "type": "t_uint256"
          },
          {
            "astId": 7,
            "contract": "contracts/Library.sol:Perpustakaan",
            "label": "penulis",
            "offset": 0,
            "slot": "2",
            "type": "t_string_storage"
          }
        ],
        "numberOfBytes": "96"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}